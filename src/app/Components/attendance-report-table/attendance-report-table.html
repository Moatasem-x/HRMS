<div class="attendance-report-table-container" dir="ltr">
  <table class="app-table">
    <thead>
      <tr>
        <th>No.</th>
        <th>Employee Name</th>
        <th>Attendance Time</th>
        <th>Leave Time</th>
        <th>Over Time</th>
        <th>Delay Time</th>
        <th>Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (record of records; track record.attendanceId; let i = $index) {
        <tr>
          <td>{{ record.attendanceId }}</td>
          <td>{{ record.employeeName }}</td>

          @if (editIndex !== i) {
            <td>{{ record.checkInTime }}</td>
          }
          @if (editIndex === i && editedRecord) {
            <td><input [(ngModel)]="editedRecord.checkInTime" type="time" [class.editing]="editIndex === i" /></td>
          }

          @if (editIndex !== i) {
            <td>{{ record.checkOutTime }}</td>
          }
          @if (editIndex === i && editedRecord) {
            <td><input [(ngModel)]="editedRecord.checkOutTime" type="time" [class.editing]="editIndex === i" /></td>
          }

          <td>{{ record.overtimeHours }}</td>
          
          <td>{{ record.delayHours }}</td>

          @if (editIndex !== i) {
            <td>{{ record.attendanceDate| date:'dd-MM-yyyy' }}</td>
          }
          @if (editIndex === i && editedRecord) {
            <td><input [(ngModel)]="editedRecord.attendanceDate" type="date" [class.editing]="editIndex === i" /></td>
          }

          <td>
            @if (editIndex !== i) {
              <button class="app-table-action-btn edit" (click)="editRecord(i)" title="Edit"><span>‚úèÔ∏è</span></button>
              <button class="app-table-action-btn delete" (click)="deleteRecord(i)" title="Delete"><span>üóëÔ∏è</span></button>
            }
            @if (editIndex === i && editedRecord) {
              <button class="app-table-action-btn edit" (click)="saveRecord(i)" title="Save"><span>üíæ</span></button>
              <button class="app-table-action-btn delete" (click)="cancelEdit()" title="Cancel"><span>‚ùå</span></button>
            }
          </td>
          
        </tr>
      }
    </tbody>
  </table>
</div> 